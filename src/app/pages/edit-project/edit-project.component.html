<div class="container">
    <header class="text-center">{{"Project"|translate}}</header>
    <form>
        <div *ngIf="showForm1" class="form-group">
            <div class="details-project" *ngFor="let data of projectData">
                <span class="title">{{"Project Details"|translate}}</span>
                <div class="fields">
                    <div class="input-field">
                        <label>{{"Project Name (English)"|translate}}</label>
                        <input type="text" [(ngModel)]="data.en_title" [ngModelOptions]="{standalone: true}"
                            class="form-control" id="en_title" placeholder="Enter project name" required>
                    </div>
                    <div class="input-field">
                        <label>{{"Project Name (ภาษาไทย)"|translate}}</label>
                        <input type="text" [(ngModel)]="data.th_title" [ngModelOptions]="{standalone: true}"
                            class="form-control" id="th_title" placeholder="Enter project name" required>
                    </div>
                    <div class="input-field">
                        <label>{{"Link URL"|translate}}</label>
                        <input type="text" [(ngModel)]="data.url" [ngModelOptions]="{standalone: true}"
                            class="form-control" id="url" placeholder="Enter project url">
                    </div>
                    <div class="input-field">
                        <label>{{"Major"|translate}}</label>
                        <select required [(ngModel)]="data.category" [ngModelOptions]="{standalone: true}"
                            class="form-control" id="category">
                            <option *ngFor="let item of listcategory" [value]="item">{{ item }}</option>
                        </select>
                    </div>
                    <div class="input-field">
                        <label>{{"Date"|translate}}</label>
                        <input type="date" [(ngModel)]="data.year" [ngModelOptions]="{ standalone: true }"
                            class="form-control" name="year" placeholder="Select date" required>
                    </div>
                </div>
                <br>

                <div class="details Student">
                    <span class="title">{{"Student"|translate}}</span>
                    <div class="fields" *ngFor="let data of studentData">
                        <div class="input-field">
                            <label>{{"ID Student"|translate}}</label>
                            <input type="text" [(ngModel)]="data.idstudent" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="idstudent" placeholder="Enter id student" readonly required>
                        </div>
                        <div class="input-field">
                            <label>{{"First Name"|translate}}</label>
                            <input type="text" [(ngModel)]="data.en_first_name" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="en_first_name" placeholder="Enter First Name" readonly
                                required>
                        </div>
                        <div class="input-field">
                            <label>{{"Last Name"|translate}}</label>
                            <input type="text" [(ngModel)]="data.en_last_name" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="en_last_name" placeholder="Enter Last Name" readonly required>
                        </div>
                        <div class="input-field">
                            <label>{{"First Name (ภาษาไทย)"|translate}}</label>
                            <input type="text" [(ngModel)]="data.th_first_name" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="th_first_name" placeholder="Enter First Name (ภาษาไทย)"
                                readonly required>
                        </div>
                        <div class="input-field">
                            <label>{{"Last Name (ภาษาไทย)"|translate}}</label>
                            <input type="text" [(ngModel)]="data.th_last_name" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="th_last_name" placeholder="Enter Last Name (ภาษาไทย)" readonly
                                required>
                        </div>
                        <div class="input-field " *ngFor="let data of roledescriptData">
                            <label>{{"Role on project"|translate}}</label>
                            <input type="text" [(ngModel)]="data.descript" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="descript" placeholder="Enter Role description(edit)" required>
                        </div>
                    </div>
                </div><br>
                <!-- //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                <div class="details Student">
                    <span class="title">{{"Student team"|translate}}</span>
                    <div class="fields" *ngFor="let student of datateam">
                        <div class="input-field">
                            <label>{{"ID Student"|translate}}</label>
                            <input type="text" class="form-control" readonly value="{{student[0].idstudent}}">
                        </div>
                        <div class="input-field">
                            <label>{{"First Name"|translate}}</label>
                            <input type="text" class="form-control" readonly value="{{student[0].en_first_name}}">
                        </div>
                        <div class="input-field">
                            <label>{{"Last Name"|translate}}</label>
                            <input type="text" class="form-control" readonly value="{{student[0].en_last_name}}">
                        </div>
                        <div class="input-field">
                            <label>{{"First Name (ภาษาไทย)"|translate}}</label>
                            <input type="text" class="form-control" readonly value="{{student[0].th_first_name}}">
                        </div>
                        <div class="input-field">
                            <label>{{"Last Name (ภาษาไทย)"|translate}}</label>
                            <input type="text" class="form-control" readonly value="{{student[0].th_last_name}}">
                        </div>
                        <div class="input-field">
                            <label>{{"Role on project"|translate}}</label>
                            <input type="text" class="form-control" readonly value="{{student[1]}}"
                                placeholder="Enter description" required>
                        </div>
                    </div>
                </div><br>
                <!-- ////////////////////////////////////////////////////////////////////// -->
                <div class="details Advisor">
                    <span class="title">{{"Advisor team"|translate}}</span>
                    <div class="fields" *ngFor="let advisor of datateamAd">
                        <div class="input-field">
                            <label>{{"ID Advisor"|translate}}</label>
                            <input type="text" class="form-control" value="{{advisor.idadvisor}}" readonly>
                        </div>
                        <div class="input-field">
                            <label>{{"First Name"|translate}}</label>
                            <input type="text" class="form-control" value="{{advisor.ad_en_first_name}}" readonly>
                        </div>
                        <div class="input-field">
                            <label>{{"Last Name"|translate}}</label>
                            <input type="text" class="form-control" value="{{advisor.ad_en_last_name}}" readonly>
                        </div>
                        <div class="input-field">
                            <label>{{"First Name (ภาษาไทย)"|translate}}</label>
                            <input type="text" class="form-control" value="{{advisor.ad_th_first_name}}" readonly>
                        </div>
                        <div class="input-field">
                            <label>{{"Last Name (ภาษาไทย)"|translate}}</label>
                            <input type="text" class="form-control" value="{{advisor.ad_th_last_name}}" readonly>
                        </div>
                        <div class="input-field">
                            <label>{{"Role on project"|translate}}</label>
                            <input type="text" class="form-control" value="{{advisor.description_role
                            }}" readonly>
                        </div>
                    </div>
                </div><br>
                <!-- //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
                <div class="details Advisor">
                    <span class="title">{{"Invite"|translate}}</span>
                    <div class="fields">
                        <div class="input-field">
                            <label>{{"ID Student"|translate}}</label>
                            <input type="text" [(ngModel)]="idstinvite" [ngModelOptions]="{standalone: true}"
                                id="idstinvite" placeholder="Enter id student">
                        </div>
                        <mat-card class="clickable invite">
                            <a (click)="inviteStudent(idstinvite)">{{"Invite"|translate}}</a>
                        </mat-card>
                    </div>
                    <div>
                        <div class="submitted-words-container">
                            <mat-card *ngFor="let submitted of submittedinviteStudent" class="submitted-word">
                                <div class="centered-content m-1">
                                    <a class="flex-container small-icon">
                                        <a>{{ submitted.student_idstudent }} </a>
                                        <b><a (click)="removeSubmittedInviteStudent(submitted.student_idstudent,submitted.Project_idProject)"
                                                [ngClass]="{ 'clickable': isClickable }"> ×
                                            </a></b>
                                    </a>
                                </div>
                            </mat-card>
                            <mat-card *ngFor="let submitted of invitedstudent" class="submitted-word">
                                <div class="centered-content m-1">
                                    <a class="flex-container small-icon">
                                        <a>{{ submitted.student_idstudent }} </a>
                                        <b><a (click)="removeInviteStudent(submitted.student_idstudent,submitted.Project_idProject)"
                                                [ngClass]="{ 'clickable': isClickable }"> ×
                                            </a></b>
                                    </a>
                                </div>
                            </mat-card>
                        </div>
                    </div><br>


                    <div class="fields">
                        <div class="input-field">
                            <label>{{"Advisor Name"|translate}}</label>
                            <input type="text" [(ngModel)]="idadinvite" [ngModelOptions]="{standalone: true}"
                                id="idadinvite" placeholder="Enter Advisor Name">
                        </div>
                        <mat-card class="clickable invite">
                            <!-- <a (click)="inviteAdvisor(idadinvite)">Invite</a> -->
                            <a (click)="inviteAdvisorpopup(idadinvite)">{{"Invite"|translate}}</a>
                        </mat-card>
                    </div>
                    <div>
                        <div class="submitted-words-container">
                            <!--  -->
                            <mat-card *ngFor="let submitted of arrayidinviteadvisor" class="submitted-word">
                                <div class="centered-content m-1">
                                    <a class="flex-container small-icon">
                                        <a>{{ submitted.name }} </a>
                                        <b><a (click)="removeInviteAdvisor(submitted)"
                                                [ngClass]="{ 'clickable': isClickable }"> ×
                                            </a></b>
                                    </a>
                                </div>
                            </mat-card>
                            <!-- Get invite -->
                            <mat-card *ngFor="let submitted of submittedinviteAdvisor" class="submitted-word">
                                <div class="centered-content m-1">
                                    <a class="flex-container small-icon">
                                        <a>{{ submitted.name }} </a>
                                        <b><a (click)="removeSubmittedInviteAdvisor(submitted)"
                                                [ngClass]="{ 'clickable': isClickable }"> ×
                                            </a></b>
                                    </a>
                                </div>
                            </mat-card>
                        </div>
                    </div><br>
                </div>
            </div>
        </div>


        <div *ngIf="showForm2">
            <span class="title">{{"Abstract"|translate}}</span><br>
            <div *ngFor="let data of projectABData">
                <div class="details Abstract">
                    <span class="titleAB">{{"Abstract (English)"|translate}}</span>
                    <div class="fields">
                        <div class="input-abstract">
                            <textarea type="text" [(ngModel)]="data.en_abstract" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="en_abstract" placeholder="Enter abstract (English)"></textarea>
                        </div>
                    </div>
                </div>

                <div class="details Abstract">
                    <span class="titleAB">{{"Abstract (ภาษาไทย)"|translate}}</span>
                    <div class="fields">
                        <div class="input-abstract">
                            <textarea type="text" [(ngModel)]="data.th_abstract" [ngModelOptions]="{standalone: true}"
                                class="form-control" id="th_abstract" placeholder="Enter abstract (ภาษาไทย)"></textarea>
                        </div>
                    </div>
                </div>
            </div>
            <div class="details keyword">
                <span class="titleAB">{{"Keyword"|translate}}</span>

                <div class="fields ">
                    <div class="input-field">
                        <input type="text" [(ngModel)]="keyword" [ngModelOptions]="{standalone: true}" id="keyword"
                            placeholder="keyword">
                    </div>
                    <mat-card class="clickable" (click)="submitKeyword()">
                        <a>{{"Add keyword"|translate}}</a>
                    </mat-card>
                </div>
            </div>

            <div class="submitted-words-container">
                <mat-card *ngFor="let submittedWord of submittedWords" class="submitted-word">
                    <div class="centered-content m-1">
                        <a class="flex-container small-icon">
                            <a>{{ submittedWord.keyword }} </a>
                            <b><a (click)="removeSubmittedWord(submittedWord.idProject, submittedWord.keyword, submittedWord.idkeyword)"
                                    [ngClass]="{ 'clickable': isClickable }"> × </a></b>
                        </a>
                    </div>
                </mat-card>
            </div>
        </div>


        <div *ngIf="showForm1" class="buttons">
            <button (click)="onCancel()" class="Cancel">
                <span class="btnText">{{"Cancel"|translate}}</span>
                <i class="uil uil-navigator"></i>
            </button>
            <button (click)="goToNextForm()" class="nextBtn">
                <span class="btnText">{{"Next"|translate}}</span>
                <i class="uil uil-navigator"></i>
            </button>
        </div>

        <div *ngIf="showForm2" class="buttons">
            <button (click)="goToPreviousForm()" class="nextBtn">
                <span class="btnText">{{"Back"|translate}}</span>
                <i class="uil uil-navigator"></i>
            </button>

            <button (click)="UpdateRecords()" class="sumbit">
                <span class="btnText">{{"Submit"|translate}}</span>
                <i class="uil uil-navigator"></i>
            </button>
        </div>
    </form>
</div>
